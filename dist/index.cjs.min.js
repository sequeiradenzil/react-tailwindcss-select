"use strict";var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e);const l=()=>a.default.createElement("svg",{className:"animate-spin mr-0.5 h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},a.default.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.default.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),r=({className:e=""})=>a.default.createElement("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})),n=({className:e=""})=>a.default.createElement("svg",{className:e,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})),s=({className:e=""})=>a.default.createElement("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}));const o=({placeholder:e="",value:t="",onChange:l,name:r=""})=>a.default.createElement("div",{className:"relative py-1 px-2.5"},a.default.createElement(s,{className:"absolute w-5 h-5 mt-2.5 pb-0.5 ml-2 text-gray-500"}),a.default.createElement("input",{className:"w-full py-2 pl-8 text-sm text-gray-500 bg-gray-100 border border-gray-200 rounded focus:border-gray-200 focus:ring-0 focus:outline-none",type:"text",placeholder:e,value:t,onChange:l,name:r})),u=({children:e})=>a.default.createElement("div",{className:"px-2 py-2 cursor-not-allowed truncate text-gray-400 select-none"},e),c=e.createContext({value:null,handleValueChange:e=>{}}),d=({value:t,handleValueChange:l,children:r})=>{const n=e.useMemo((()=>({value:t,handleValueChange:l})),[l,t]);return a.default.createElement(c.Provider,{value:n},r)},i=({item:t})=>{const{value:l,handleValueChange:r}=e.useContext(c),n=e.useMemo((()=>null!==l&&!Array.isArray(l)&&l.value===t.value),[t.value,l]);return a.default.createElement(a.default.Fragment,null,t.disabled?a.default.createElement(u,null,t.label):a.default.createElement("li",{"aria-selected":n,role:"option",onClick:()=>r(t),className:"block transition duration-200 px-2 py-2 cursor-pointer select-none truncate rounded "+(n?"text-white bg-blue-500":"text-gray-500 hover:bg-blue-100 hover:text-blue-500")},t.label))},m=({item:e})=>a.default.createElement(a.default.Fragment,null,e.options.length>0&&a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"pr-2 py-2 cursor-default select-none truncate font-bold text-gray-700"},e.label),e.options.map(((e,t)=>a.default.createElement(i,{key:t,item:e}))))),f=({list:t,noOptionsMessage:l,text:r,isMultiple:n,value:s})=>{const o=e.useCallback((()=>{const e=e=>e.label.toLowerCase().indexOf(r.toLowerCase())>-1;let a=t.map((t=>"options"in t?{label:t.label,options:t.options.filter(e)}:t));return a=a.filter((t=>"options"in t?t.options.length>0:e(t))),a}),[r,t]),c=e.useCallback((e=>{if(!n)return e;if(Array.isArray(s)){const t=s.map((e=>e.value)),a=e=>!t.includes(e.value);let l=e.map((e=>"options"in e?{label:e.label,options:e.options.filter(a)}:e));return l=l.filter((e=>"options"in e?e.options.length>0:a(e))),l}return e}),[n,s]);let d=e.useMemo((()=>c(o())),[o,c]);return a.default.createElement("div",{role:"options",className:"max-h-72 overflow-y-auto overflow-y-scroll"},d.map(((e,t)=>a.default.createElement(a.default.Fragment,{key:t},"options"in e?a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"px-2.5"},a.default.createElement(m,{item:e})),t+1<d.length&&a.default.createElement("hr",{className:"my-1"})):a.default.createElement("div",{className:"px-2.5"},a.default.createElement(i,{item:e}))))),0===d.length&&a.default.createElement(u,null,l))};module.exports=({options:t=[],value:s=null,onChange:u,placeholder:c="Select...",searchInputPlaceholder:i="Search...",isMultiple:m=!1,isClearable:p=!1,isSearchable:g=!1,isDisabled:v=!1,loading:h=!1,menuIsOpen:E=!1,noOptionsMessage:b="No options found"})=>{const[x,y]=e.useState(E),[w,N]=e.useState(t),[C,k]=e.useState(""),A=e.useRef(null);e.useEffect((()=>{const e=e=>"disabled"in e?e:{...e,disabled:!1};N(t.map((t=>"options"in t?{label:t.label,options:t.options.map(e)}:e(t))))}),[t]);const L=e.useCallback((()=>{v||y(!x)}),[v,x]),M=e.useCallback((()=>{x&&y(!1)}),[x]);!function(t,a){e.useEffect((()=>{const e=e=>{t.current&&!t.current.contains(e.target)&&a(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,a])}(A,(()=>{M()}));const S=e.useCallback((e=>{e.preventDefault(),"Enter"!==e.code&&"Space"!==e.code||v||L()}),[v,L]),z=e.useCallback((e=>{e!==s&&(m||Array.isArray(s)||(M(),u(e)),m&&(Array.isArray(s)||null===s)&&u(null===s?[e]:[...s,e]))}),[M,m,u,s]),F=e.useCallback((e=>{e.stopPropagation(),u(null)}),[u]),V=e.useCallback(((e,t)=>{if(m&&Array.isArray(s)&&s.length){e.stopPropagation();const a=s.filter((e=>t.value!==e.value));u(a.length?a:null)}}),[m,u,s]);return a.default.createElement(d,{value:s,handleValueChange:z},a.default.createElement("div",{className:"relative w-full",ref:A},a.default.createElement("div",{tabIndex:0,"aria-expanded":x,onKeyDown:S,onClick:L,className:"flex text-sm text-gray-500 border border-gray-300 rounded shadow-sm transition duration-300 focus:outline-none"+(v?" bg-gray-200":" bg-white hover:border-gray-400 focus:ring-2 focus:ring-blue-500")},a.default.createElement("div",{className:"grow pl-2.5 py-2 pr-2 flex flex-wrap gap-1"},m?a.default.createElement(a.default.Fragment,null,null===s&&c,Array.isArray(s)&&s.map(((e,t)=>a.default.createElement("div",{className:"bg-gray-200 border rounded-sm flex space-x-1"+(v?" border-gray-500 px-1":" pl-1"),key:t},a.default.createElement("p",{className:"text-gray-600 truncate cursor-default select-none"},e.label),!v&&a.default.createElement("div",{onClick:t=>V(t,e),className:"flex items-center px-1 cursor-pointer rounded-r-sm hover:bg-red-200 hover:text-red-600"},a.default.createElement(r,{className:"w-3 h-3 mt-0.5"})))))):a.default.createElement("p",{className:"truncate cursor-default select-none"},s&&!Array.isArray(s)?s.label:c)),a.default.createElement("div",{className:"flex flex-none items-center py-1.5"},h&&a.default.createElement("div",{className:"px-1.5"},a.default.createElement(l,null)),p&&!v&&null!==s&&a.default.createElement("div",{className:"px-1.5 cursor-pointer",onClick:F},a.default.createElement(r,{className:"w-5 h-5 p-0.5"})),a.default.createElement("div",{className:"h-full"},a.default.createElement("span",{className:"w-px h-full inline-block text-white bg-gray-300 text-opacity-0"})),a.default.createElement("div",{className:"px-1.5"},a.default.createElement(n,{className:"transition duration-300 w-6 h-6 p-0.5"+(x?" transform rotate-90 text-gray-500":" text-gray-300")})))),x&&!v&&a.default.createElement("div",{tabIndex:-1,className:"absolute z-100 w-full bg-white shadow-lg border rounded py-1 mt-1.5 text-sm text-gray-700"},g&&a.default.createElement(o,{value:C,placeholder:i,onChange:e=>k(e.target.value)}),a.default.createElement(f,{list:w,noOptionsMessage:b,text:C,isMultiple:m,value:s}))))};
